<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="zh-CN"><id>/</id><title>科学生活</title><updated>2020-01-08T00:55:54.703478+08:06</updated><author><name>伪装兽</name><email>sfl05@163.com</email></author><link href="/" rel="alternate"/><generator uri="http://lkiesow.github.io/python-feedgen" version="0.8.0">python-feedgen</generator><logo>${static_prefix}icon.png</logo><subtitle>做什么都得走点技术流</subtitle><entry><id>/archives/first-post/</id><title>Hello World!</title><updated>2020-01-08T00:55:54.703663+00:00</updated><author><name>ste</name><email>sfl05@163.com</email><uri>https://861204.xyz</uri></author><content>&lt;p&gt;暂时不知道要写什么。&lt;/p&gt;
&lt;p&gt;&lt;figure class="pswp-item" style="flex: 172.78617710583154" data-width="1600" data-height="463"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/cca364b0ddfd077d980613e7afc53f60.jpg" alt="hello" /&gt;&lt;figcaption&gt;hello&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
</content><link href="/archives/first-post/" rel="alternate"/><published>2019-12-25T11:50:00+08:06</published></entry><entry><id>/archives/ss/</id><title>科学上网</title><updated>2020-01-08T00:55:54.703640+00:00</updated><author><name>ste</name><email>sfl05@163.com</email><uri>https://861204.xyz</uri></author><content>&lt;p&gt;我的智商极限大约就是折腾路由器了。&lt;/p&gt;
&lt;p&gt;小时候家里没有电脑，跑去表哥家里玩游戏，那时候是拨号上网，联网之后电话就打不进来了，所以妈妈叫我回家吃饭却打不通电话，只能干着急。&lt;/p&gt;
&lt;p&gt;后来自己家里也买了电脑，每次开机都要先拨号，总要等好一会儿才行，经朋友指点装了一个路由器，记得是水星的。在路由上完成拨号，比电脑上来得更快。虽然只是填个宽带账号的事情，还是研究了半天。搞明白之后，还跑去小姑娘家里给人家设置，弄好之后我就很老实地回家了。&lt;/p&gt;
&lt;p&gt;读研究生期间上网需要锐捷认证，很蛋疼。想学人家把路由刷openwrt并跑锐捷，但是搞不懂，最后只能在电脑上插个360wifi来解决，给iPad之类的设备提供无线。后来学校把这类wifi硬件都封了，必须用修改版的锐捷才能正常运行，很难受。最后找导师要了他的Teacher帐号，WIFI直连外网，放弃锐捷。&lt;/p&gt;
&lt;p&gt;工作后自己租房子住，在淘宝上买刷好PandoraBox的小米路由mini，为的是在路由上实现透明代理。买了之后发现这货操作反人类，费了很大劲才设置好拨号，而且不怎稳定，用了一段时间就闲置了。作为米粉的我又买了小米路由硬盘版，上网性能一般，但好处是能远程下载电影以及自动追美剧，同时学会用samba实现在电视上看路由器里电影，速度也很快。同时顺带了解了NAS这种东西，研究了一下群晖、Gen8之类的产品，以及HyperV、ESXi之类虚拟技术。&lt;/p&gt;
&lt;p&gt;然后就忽悠单位买了群晖，主要用于企业数据备份和共享，8盘位，raid 5。一开始用QuickConnect来远程访问，很方便但速度不理想。为了能够相对快速地实现远程访问，专门研究了一下ddns，搞了个花生壳的动态域名。这其实挺傻的，因为单位的专线其实是有公网固定IP的，这是后话，不表。&lt;/p&gt;
&lt;p&gt;自己又跟风买了Newifi mini，刷各种固件极为方便，发现老毛子固件真好用，相较openwrt直观太多。在路由上设置好ss后，所有终端免翻，真是居家越货必备良品。同时可以设置adbyby、KMS等功能，十分强大。顺便在阿里买了个域名，用aliddns可以实现远程访问。但因为家里有两台路由，为了用aria功能，又研究了半天端口转发的问题，挺头疼。&lt;/p&gt;
&lt;p&gt;Newifi用起来各种好，然后开始到处安利，并囤积居奇，买了一打放在家里，送给有需要的朋友。期间上门给导师装了一台，设置好翻墙和去广告，导师表示对其科研有很大帮助，并表示要给我介绍女朋友。我后来又开始买已经下车了的K2/K2P，刷好荒野无灯的固件并配置好搬瓦工的ss线路送朋友，到手插网线就能用。但因为不可描述的原因，不久之后就不能用了，我也不可能上门去维护，后来便放弃了。&lt;/p&gt;
&lt;p&gt;我自己则把原先用的Newifi淘汰下来，换成Asus ac66u b1，刷梅林。梅林固件有个插件中心，按需要安装，独立更新，用起来更方便。这货的最大问题是温度常年70度往上，我经常用它来温一下过于冰的可乐。后来专门给它配了个USB风扇，温度降到50度左右。
&lt;figure class="pswp-item" style="flex: 37.8316906747536" data-width="1996" data-height="2638"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/a718830c0d818c26831b4e1f24e83902.jpg" alt="梅林" /&gt;&lt;figcaption&gt;梅林&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;顺手把单位里的R8000也刷了梅林，在全所范围内实现ss、kms和去广告，自己方便，别人也方便。配合AP，全面覆盖，无缝漫游。有一次内部开会，有个同事说因为在单位可以上Google，查资料方便，所以很愿意加班。老板听了很满意，频频冲我点头，但并没有给我加工资。&lt;/p&gt;
&lt;p&gt;最新的梅林固件开始支持AiMesh，于是我又买了一台66u b1，两台共同组AiMesh，有线回程。然而某天我突然发现自己其实根本不需要无缝漫游，因为家里实在小，一台K2P完全可以覆盖了，而且发热量还小。撤掉两台66u，收进车库里吃灰。&lt;/p&gt;
&lt;p&gt;另一方面，科学上网的变化日新月异，转眼间我已数次换了机场，换了跨栏方案，路由器上的ss不带混淆，已无法用了。于是改为在终端翻，策略组分流，ios用quantumalt，android用surfboard，win用clash。其中clash是我最喜欢的，开源稳定，在PC上用clash之后几乎再没出过不能上网的情况。
&lt;figure class="pswp-item" style="flex: 88.44339622641509" data-width="1500" data-height="848"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/1790c1de2e6ff98e0f9c674739f8a627.png" alt="clash" /&gt;&lt;figcaption&gt;clash&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;偶然了解到旁路方案，本想把一台闲置的MacBook装上surge当网关用，无奈surge太贵买不起。后来经安利买了一个orange pi zero plus，和我早年买的树莓派是一个道理，不过这个更小，而且是千兆口，CPU也更强。刷了群里老竭力改过的PandoraBox固件，已内置了ssr plus，支持订阅和故障转移，非常好用。把xbox网关指向Pi就可以实现翻墙，看Netflix速度很棒，和老婆晚上在家看4K的纸牌屋，很开心。
&lt;figure class="pswp-item" style="flex: 68.62949452840022" data-width="2634" data-height="1919"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/8956bdf983a86a3f2d460f3595c9d227.jpg" alt="pi" /&gt;&lt;figcaption&gt;pi&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;正好电信有免费提速到200M的优惠，就办理了，结果提速后家里测速还是只有100M，问了才知道精装修装的交换机是百兆的，真的垃圾。本想买个千兆交换机放弱电箱，后来转念买了台Newifi3，刷lean固件，拆了外壳后勉强可塞进弱电箱，发热量也还好。将Newifi作为主路由，关无线，挂ssr；K2P使用AP模式，连WIFI；Pi专供Xbox，保证视频速度流畅。&lt;/p&gt;
&lt;p&gt;这套方案本身挺合理的，只是裸板放弱电箱还是不放心。某天出差，临时起意买了个四口的J1900。到手后发现做工真好，被动散热效果就很不错，夏天也仅40多度。而且大小适中，正好可以放进弱电箱，把新三给换下来。性能上，跑分可以跑三万多，但是看Netflix的速度基本还是一样，估计瓶颈在线路本身的速度。软路由配合K2P的AP，硬件上暂不需要折腾了。
&lt;figure class="pswp-item" style="flex: 66.66666666666667" data-width="4032" data-height="3024"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/e8a1ea7a124e9cf101350467be1dc2dd.jpg" alt="J1900" /&gt;&lt;figcaption&gt;J1900&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;lean版的openwrt固件非常完善，功能齐备，十分稳定。我也渐渐习惯了openwrt的包管理方式，挺方便。
&lt;figure class="pswp-item" style="flex: 65.57863501483679" data-width="1326" data-height="1011"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/83c081daa1db69d5fd63d64da3eabb8e.png" alt="openwrt" /&gt;&lt;figcaption&gt;openwrt&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Pi暂时闲置了，作为测试clash的专用机器。clash及luci clash尚处于测试阶段，有一些小毛病，不如终端上的版本稳定。最新版本clash上开始引入fake-ip模式，但我并没有搞懂，大约就是防DNS污染的一种方法。总体能用，成熟后可以部署到主路由上。
&lt;figure class="pswp-item" style="flex: 50.0" data-width="2160" data-height="2160"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/fdf62ce91800bd0fee5a12e9a7b4aab2.jpg" alt="luci-clash" /&gt;&lt;figcaption&gt;luci-clash&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;535期间没事干，翻出早年买的一个小黄路由——GL MT300N V2，在吃灰多年后，经更新固件终于可以支持华为4G网卡，插上即可上网。其固件本质为openwrt，套了个一定制的界面。进ssh刷上ssr plus，可用，但性能较弱。并没有想到可用场景，就当玩玩吧。
&lt;figure class="pswp-item" style="flex: 70.91503267973856" data-width="1302" data-height="918"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/3b2b2494f147d31f0ce0f2892e551c15.jpg" alt="随身路由" /&gt;&lt;figcaption&gt;随身路由&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;为了能远程看到家里的网络情况，打电话给电信改了桥接，然后用主路由PPPOE拨号，并在阿里云买了一个域名，用于ddns，并搞了证书。&lt;/p&gt;
&lt;p&gt;实现远程访问后，自然要搞一下NAS，搞了一台415+，4盘4T跑raid5，约10T的可用容量。装了cloudsync来下载百度盘和Google Drive上的资源。装了docker跑一个同步到Google photos的容器。其它似乎也没啥好玩的，有点过于简单，没得折腾。
&lt;figure class="pswp-item" style="flex: 73.719165085389" data-width="1554" data-height="1054"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/3d1ceb4c84cd4dd24b2d452243960310.png" alt="synology" /&gt;&lt;figcaption&gt;synology&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;所里的群晖，一度没有好好利用起来，速度不理想。直到所里请了一位高手，优化了所里的网络架构，内外网访问都不成问题。速度上来后，Drive、Webdav等功能终于可以利用起来，有望成为提升工作效率的强力工具。另，利用docker也跑了个clash在上面，可以作为旁路用。
&lt;figure class="pswp-item" style="flex: 107.60416666666667" data-width="1033" data-height="480"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/d95f8150918f7553be23c2753e704767.png" alt="docker" /&gt;&lt;figcaption&gt;docker&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;我感叹网络技术真是深不见底，越到底层我越搞不懂，这大约是我智商的极限了，如果有空我得去读一读TCP/IP，了解一下底层原理。不过这种软硬结合的玩法真的有趣，学习效果也很好，我已然将其视为一种乐趣，而超过实现科学上网功能这一初衷。&lt;/p&gt;
&lt;p&gt;这一感觉和网友&lt;a href="https://twitter.com/i/web/status/1126165698978271232"&gt;@cxiaoji&lt;/a&gt;说的很像：&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;我对数据结构有非常美好的回忆。我真正开始理解编程就是在贵系蹭的数据结构课。老师没打开过教材，上课就一个编辑器，从头写一个类，一边讲一边往里面添方法。讲完编译，测试，通过，正好下课。我期末要熬图根本没工夫复习的，但是这门课学的东西一点都没忘。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;今天碰巧看到关于shadowsocks发展史的一篇&lt;a href="https://github.com/JadaGates/ShadowsocksBio"&gt;文章&lt;/a&gt;，让人唏嘘不已。其中ss和ssr的故事再一次重演，发生在clash和clashr上。Dreamacro写的clash为开源项目，但不支持ssr协议；因很多机场只提供ssr节点，广大小白用户希望支持ssr协议的呼声很高；lvguangfa在clash核心上加了ssr支持，闭源，向机场主收费，被人肉，被迫开源。历史总是惊人的相似。&lt;/p&gt;
</content><link href="/archives/ss/" rel="alternate"/><published>2019-12-25T14:26:00+08:06</published></entry><entry><id>/archives/movie/</id><title>科学看剧</title><updated>2020-01-08T00:55:54.703615+00:00</updated><author><name>ste</name><email>sfl05@163.com</email><uri>https://861204.xyz</uri></author><content>&lt;p&gt;大约从大学起开始看美剧，跟风看老友记、越狱什么的，主要是从学校的ftp下载，或者从同学那里拷贝。后来有了Maze，下载更方便一些。后来发现别人看完都去考GRE出国了，都是带着目的去看美剧的，就我是在那儿瞎JB看。&lt;/p&gt;
&lt;p&gt;研究生阶段主要看冰与火、纸牌屋为主，同时开始看韩剧，城市猎人、星星的你之类。主要通过人人影视等渠道去下载，迅雷下到电脑上，几个室友一起看。&lt;/p&gt;
&lt;p&gt;毕业后买了一个小米电视盒子，以及一台小米路由硬盘版。这个路由可以自动追剧，喜欢的剧会自己下载下来，非常方便。然后用盒子可以直接SMB访问路由看，自动匹配字幕。非常给力。主要看了疑犯追踪，这剧太长了，追到后面实在有些累。&lt;/p&gt;
&lt;p&gt;后来整体升级了一下，买了sony电视，买了Netflix会员及原生线路，买了Xbox（有NF支持），以及Sonos 5.1 全家桶。这么大的投入效果确实非常好。不过工作也忙，很少有时间看，一般只能看短剧，比如碳变、爱死机、黑镜之类。有段时间老婆回娘家，我一口气看完三季《怪奇物语》，非常痛快。由于音效过于逼真，此片又过于cult，看的时候吓得不轻。&lt;/p&gt;
&lt;p&gt;赶上黑五的时候又买了Firestick 4K，接房间的小米电视，十分小巧可以藏在电视背后，从正面完全看不出来。而且这货可以用Alexa来控制，装逼效果一流，实际没啥用处。不过我慢慢失去耐心，一般剧都看不过三集。&lt;/p&gt;
&lt;p&gt;Netflix虽好，但上面还是有很多片子是没有的，所以有时还是需要本地片源，原先用的小米路由器硬盘版太弱，便上了群晖。群晖上cloudsync堪称下载神器，可以以同步的方案下载百度盘、Google Drive上的资源，这俩是目前最主流的资源分享渠道了。对于种子或是磁力，也可以通过其自带的Download Station来下载，速度一般。
&lt;figure class="pswp-item" style="flex: 85.25316455696202" data-width="1347" data-height="790"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/d8a8cd4baba0839e9fd904498071dfc7.jpg" alt="CloudSync" /&gt;&lt;figcaption&gt;CloudSync&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后为更流畅地看本地4K片源，又买了一个N1，刷coreelec（kodi变体），观影效果很棒。&lt;/p&gt;
&lt;p&gt;不过老婆嫌NAS太吵，家里太小没办法只能搬去单位，SMB方式变得不可行。后来偶然了解到还有Plex这样的神器，可以远程流媒体传输。群晖上有现成的套件就直接跑了一个，也很简单。不过这货要实时转码，很吃CPU，于是又改而跑在另一个强一的点服务器上。我最喜欢Plex之处在于任意设备直接播放，并且保存播放记录多设备同步。此外，其自带的刮削器也很强，片子的信息基本都能正确地抓到，效果如图：&lt;/p&gt;
&lt;p&gt;&lt;figure class="pswp-item" style="flex: 89.0125173852573" data-width="1280" data-height="719"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/5408edcfb3afc7f653beb687bde3b4d9.jpg" alt="电影" /&gt;&lt;figcaption&gt;电影&lt;/figcaption&gt;&lt;/figure&gt;
&lt;figure class="pswp-item" style="flex: 89.0125173852573" data-width="1280" data-height="719"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/cb3dda4050240c0899872679b38556d6.jpg" alt="剧集" /&gt;&lt;figcaption&gt;剧集&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这是我当年很喜欢的美剧《冰血暴》，存在NAS上，偶尔看看介绍也是蛮好的。
&lt;figure class="pswp-item" style="flex: 57.091882247992864" data-width="1280" data-height="1121"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/c889715cf601bbc35cd9a143be5ee4e7.jpg" alt="Fargo" /&gt;&lt;figcaption&gt;Fargo&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;折腾了那么多，看剧的时间是越来越少了，忧伤。&lt;/p&gt;
</content><link href="/archives/movie/" rel="alternate"/><published>2019-12-25T15:26:00+08:06</published></entry><entry><id>/archives/reading-list/</id><title>科学阅读</title><updated>2020-01-08T00:55:54.703588+00:00</updated><author><name>ste</name><email>sfl05@163.com</email><uri>https://861204.xyz</uri></author><content>&lt;p&gt;看书这个事情也要讲究科学性，这种科学性不在于设备上。我这些年确实也折腾过很多电子阅读器：Nook2、KPW3、KO2以及iPad Pro，但其实都看得不多。反而是我大学时买的一台Palm TX，陪我看完很多书。所以不要追求设备，随便弄台Kindle，随身方便就好。&lt;/p&gt;
&lt;p&gt;看书的科学性也不在于看得快，各种快速阅读基本都是扯淡，理解才是核心。书中内容与认知高度一致的，自然就看得快。复杂的内容就要慢慢读，细细理解。有一本《如何阅读一本书》大约就是讲这个事情的，虽然我只是看了目录。&lt;/p&gt;
&lt;p&gt;我现在最大的问题是长期不看书，这是不行的。主要原因还是时间碎片化，手机刷推、聊TG的时间很多，看书根本打不起精神。我打算从小说类读物开始重新培养阅读习惯，慢慢向非小说类读物引导，这也是一种科学阅读。&lt;/p&gt;
&lt;h2&gt;庆余年&lt;/h2&gt;
&lt;p&gt;因为电视剧实在太火所以去看原著，看了第一卷，虽然没啥新意，依然是穿越类的爽文，但至少文笔不错。碎片时间随便看看吧，也没太大的意思。&lt;/p&gt;
&lt;h2&gt;国语推行员&lt;/h2&gt;
&lt;p&gt;痞子蔡2019新作，照例读一下。这么多年了，痞子蔡还在写青春文学，真是可以。在高铁上读了几页，以为要喜欢班花，结果他喜欢的是国语推行员，但似乎并没有在一起。&lt;/p&gt;
&lt;h2&gt;白鹿原&lt;/h2&gt;
&lt;p&gt;因为在油管上一电影解说，觉得这部作品非常宏大，于是在飞机上看起来。没想到前面讲的全是娶老婆的事情，描写十分有趣。大约是开卷乐呵呵，看完mmp的节奏。&lt;/p&gt;
&lt;h2&gt;上海堡垒&lt;/h2&gt;
&lt;p&gt;出差到上海，后又要去浦东坐飞机，顺路坐了磁悬浮。突然想起上海堡垒这本小说里提到“80元往返，50单程；买了往返然后45卖了黄牛票”的描述，才发现十年过去这个价格一直没有变过。&lt;/p&gt;
&lt;p&gt;这个小说我其实很喜欢，有科幻剧情，也有爱情桥段，最后牺牲的描写也很壮烈。在有限的篇幅下，非常难得了。电影拍得太垃圾，看了一眼就不想看了。&lt;/p&gt;
&lt;h2&gt;流浪地球&lt;/h2&gt;
&lt;p&gt;短篇，分分钟读完，故事本身没有特别精彩，但剧情还是要比电影强的。不知为什选这部来拍电影，我感觉随便选个大刘作品都比这个强。&lt;/p&gt;
&lt;h2&gt;大江东去&lt;/h2&gt;
&lt;p&gt;在出差期间看了大约 10%，感觉主角是 bug，学什么会什么，几乎没任何阻碍。还是雷东宝的人设更合理，在高人指点下，靠极强的执行力获得成功。很喜欢一开始土地承包那部分，也是因为在电视上看到这个剧情才开始看原著的。&lt;/p&gt;
&lt;p&gt;为了看这本书还专门买了KO2，再次证明三分钟热度。买来之后再未看过，对这部作品也失去了兴趣，太长了，不看了。&lt;/p&gt;
&lt;h2&gt;待读&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;雪球岛系列投资书&lt;/li&gt;
&lt;li&gt;CFA教材及相关金融类读物&lt;/li&gt;
&lt;li&gt;世界9部曲&lt;/li&gt;
&lt;li&gt;海伯利安&lt;/li&gt;
&lt;li&gt;基地系列&lt;/li&gt;
&lt;li&gt;在耶鲁精进&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure class="pswp-item" style="flex: 50.0" data-width="1280" data-height="1280"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/f9ad001c15969389138f34ed91b2649d.jpg" alt="Kindle Oasis 2" /&gt;&lt;figcaption&gt;Kindle Oasis 2&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
</content><link href="/archives/reading-list/" rel="alternate"/><published>2019-12-25T18:26:00+08:06</published></entry><entry><id>/archives/rss/</id><title>科学订阅</title><updated>2020-01-08T00:55:54.703536+00:00</updated><author><name>ste</name><email>sfl05@163.com</email><uri>https://861204.xyz</uri></author><content>&lt;p&gt;十年前是RSS盛行的年代，十年后已变成了微信公众号的天下。微信公众号给出了一种比较简便的内容发布方案，但是不够开放，算是进步和退步吧。2019年8、9月份的时候，因为需要跟踪上海发改委网站上关于奉贤海上风电项目竞价的情况，每天打开网站看一遍，真是太蛋疼了。于是想到了自己去烧制一个RSS。&lt;/p&gt;
&lt;p&gt;通过Google找到了Feed43，原理蛮简单，就是定时去读取网站内容，然后用类似正则的方式去匹配内容信息。试了一下就会了，制作了国家发改委、能源局等网站的RSS。
&lt;figure class="pswp-item" style="flex: 77.50533049040511" data-width="727" data-height="469"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/08a8289311e92cf80d9ed7bd1b4aac23.png" alt="Feed43" /&gt;&lt;figcaption&gt;Feed43&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后把这个feed丢到任何一个RSS阅读器即完成订阅。完工。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;不过折腾总是不会这么快结束，还想要在手机上也能方便得收到实时推送。然而现在RSS式微，iOS上尚有不少优秀app，安卓上都找不到合适的。转而想到Telegram，果然有人提供rss bot可以直接用。在对话框中告诉机器人要订阅的rss链接，机器人就会在有更新时推送消息给你，轻量而且方便。不过由于是第三方的bot，用了没几天就因服务器问题下线了。所以还是得自己动手。&lt;/p&gt;
&lt;p&gt;找到了一个go语言写的开源机器人flowerss-bot，我一看有Docker版，第一时间想到就是用群晖跑，然而一直没弄清config要放在哪个位置，没跑成功。&lt;/p&gt;
&lt;p&gt;想起那个吃灰的N1，原本刷了coreelec看片用，后来换Plex就用不上了。于是拿出来刷成armbian并写入emmc。因为有前人经验，dtb什么的都搞好了，所以这一步很顺利。
&lt;figure class="pswp-item" style="flex: 60.0" data-width="840" data-height="700"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/d39d45d456ce8f1e35cb565b4c975510.jpg" alt="armbian" /&gt;&lt;figcaption&gt;armbian&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后继续装上Docker，并弄好图形界面，这一步也挺顺利。这个可视化界面没有群晖的直观，不过多摸索一下大致也清楚了，功能上更强大。
&lt;figure class="pswp-item" style="flex: 109.93377483443709" data-width="996" data-height="453"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/09f523119662ab07e2f6f8048150b710.jpg" alt="Portainer" /&gt;&lt;figcaption&gt;Portainer&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然而再进一步要运行flowerss的Docker时才发现，这个docker并不支持arm框架，等于白搞了。事实上，这些现成的docker普遍都不支持arm。于是索性直接编译，先装了go，然后go build。
&lt;figure class="pswp-item" style="flex: 59.857142857142854" data-width="838" data-height="700"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/6203067fe124d3800c874248ca9d2dea.jpg" alt="flowerss" /&gt;&lt;figcaption&gt;flowerss&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;终于跑起来了，还是为了配置数据库的原因折腾了一下，最后发现不配置就可以运行。效果如下：
&lt;figure class="pswp-item" style="flex: 23.984375" data-width="614" data-height="1280"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/1acb09eac4c94b668fe0f6040940cc41.jpg" alt="Telegram" /&gt;&lt;figcaption&gt;Telegram&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然而还是想要Docker那种可以可视化操作，于是继续打包为Docker镜像，"docker build ."，我因为少打了一个"."，折腾了很久。&lt;/p&gt;
&lt;p&gt;这毕竟是我第一次打包Docker镜像，试了好多次，终于成功了。
&lt;figure class="pswp-item" style="flex: 60.0" data-width="840" data-height="700"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/632e687213fa9d18d59efdaf6a275b59.png" alt="Docker build" /&gt;&lt;figcaption&gt;Docker build&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后在Portaner里新建一个容器，成功跑起来了。这样就可以方便地查看日志以及远程访问了。
&lt;figure class="pswp-item" style="flex: 139.16666666666666" data-width="668" data-height="240"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/446525792d52f2949a04aff776f8b0e7.png" alt="Docker run" /&gt;&lt;figcaption&gt;Docker run&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;然而在看日志的时候发现，Feed43的源可能因为稳定性问题经常抓不到，而且其本身限制6小时抓一次，也不够及时。于是转而又找到一个叫RssHub的项目，也可以Docker运行，跑在自己的服务器上更放心。不过这个工具就没有那简便的可视化规则编辑界面了，需要用js语言自己写“路由”。我本想找一个路由规则抄抄，但由于完全不懂js，始终不成功。最后还是要感谢毛总帮我写了规则，我在旁边看得一脸蒙蔽。
&lt;figure class="pswp-item" style="flex: 47.72393538913363" data-width="650" data-height="681"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/6573176ea9b6f38db1ea6e15af59fbac.png" alt="路由规则" /&gt;&lt;figcaption&gt;路由规则&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;最终毛总用一个中午的时间帮我实现了国家发改委网站的抓取，并在调试后优化。抓取的内容如图：
&lt;figure class="pswp-item" style="flex: 76.27986348122867" data-width="894" data-height="586"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/snipersteve/Blog@gh-pages/archives/assets/15e6b77b93fc121614250b380ef564e4.png" alt="feed" /&gt;&lt;figcaption&gt;feed&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;不过脱离毛总支持后，我尝试自己写路由，还是不成功。这个工具门槛还是偏高，是我学习js和git的一条进路。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;转而找到另一个工具huginn，直接跑Docker就行，有可视化界面，编写规则和测试都简单很多。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;折腾了半天只是为了在第一时间可以了解到这些网站的最新政策动向，希望对工作会有帮助。&lt;/p&gt;
&lt;p&gt;完结撒花。&lt;/p&gt;
</content><link href="/archives/rss/" rel="alternate"/><published>2020-01-04T20:26:00+08:06</published></entry></feed>